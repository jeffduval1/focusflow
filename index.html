<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FocusFlow</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Poppins:wght@600&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <h1>FocusFlow</h1>
        <div class="header-actions">
            <button id="btnManageCategories">üìÇ G√©rer les cat√©gories</button>
            <button id="exportBtn">üì§ Exporter</button>

            <div class="import-wrapper">
                <button id="btnImport">üì• Importer ‚ñº</button>
                <div id="importMenu" class="dropdown hidden">
                    <div class="import-option" data-mode="fusion">
                        üîÑ Fusionner 
                        <span class="info" data-info="Ajoute seulement les nouvelles t√¢ches/√©v√©nements. Si le titre existe d√©j√†, on garde l‚Äôexistant.">‚ÑπÔ∏è</span>
                    </div>
                    <div class="import-option" data-mode="remplacer">
                        üóëÔ∏è Remplacer tout 
                        <span class="info" data-info="Supprime toutes les donn√©es actuelles et recharge uniquement celles du fichier import√©.">‚ÑπÔ∏è</span>
                    </div>
                </div>
                <input type="file" id="importFile" accept="application/json" hidden>
            </div>
        </div>
    </header>

    <main>

        <!-- üìå Onglets Workspaces -->
        <div id="workspaceTabs"></div>

        <!-- üì¶ ARCHIV√âS -->
        <div id="archivedSection" class="archived-block hidden">
            <h3 id="archivedHeader">üì¶ Archiv√©s (0)</h3>
            <div id="archivedList" class="archived-list hidden"></div>
        </div>

        <!-- Haut de page : Urgents et Importants -->
        <div class="top-grid">
            <section id="urgent-list" class="eisenhower">
                <h2>üî• Urgent & Important</h2>
                <ul></ul>
            </section>

            <section id="important-list" class="eisenhower">
                <h2>‚≠ê Important & Non urgent</h2>
                <ul></ul>
            </section>
        </div>

        <!-- Colonne centrale et droite -->
        <div class="grid">

            <!-- Liste principale -->
            <section id="task-list">
                <h2>üìù T√¢ches (cote 10 ‚Üí 1)</h2>
                <button id="openTaskModal">‚ûï Nouvelle t√¢che</button>
                <ul></ul>
            </section>

            <!-- Colonne droite -->
            <aside>

                <section id="deadlines">
                    <h2>‚è≥ √âch√©ances</h2>
                    <ul></ul>
                </section>

                <section id="events">
                    <h2>üìÖ Rendez-vous</h2>
                    <form id="eventForm">
                        <input type="text" id="eventTitle" placeholder="Nouvel √©v√©nement" required>
                        <input type="date" id="eventDate" required>
                        <input type="time" id="eventTime">
                        <button type="submit">Ajouter √©v√©nement</button>
                    </form>
                    <ul></ul>
                </section>

            </aside>
        </div>

        <!-- Rang√©e inf√©rieure -->
        <div class="bottom-grid">
            <section id="urgent-notimportant-list" class="eisenhower">
                <h2>‚ö° Urgent & Non important</h2>
                <ul></ul>
            </section>

            <section id="noturgent-notimportant-list" class="eisenhower">
                <h2>üí§ Non urgent & Non important</h2>
                <ul></ul>
            </section>
        </div>

    </main>

    <script type="module" src="js/main.js"></script>

    <!-- Modale d'ajout de t√¢che -->
    <div id="taskModal" class="modal hidden">
        <div class="modal-content">
            <span id="closeTaskModal" class="close">&times;</span>
            <h2>Nouvelle t√¢che</h2>
            <form id="taskForm">
                <input type="text" id="taskTitle" placeholder="Nom de la t√¢che" required>

                <select id="taskCote" required>
                    <option value="" disabled selected>Cote (1-10)</option>
                    <option value="10">10</option>
                    <option value="9">9</option>
                    <option value="8">8</option>
                    <option value="7">7</option>
                    <option value="6">6</option>
                    <option value="5">5</option>
                    <option value="4">4</option>
                    <option value="3">3</option>
                    <option value="2">2</option>
                    <option value="1">1</option>
                </select>

                <input type="date" id="taskDue">

                <div class="categories">
                    <div id="categoryWrapper">
                        <select id="taskCategory" required></select>
                    </div>
                </div>

                <button type="submit">Ajouter t√¢che</button>
            </form>
        </div>
    </div>

    <!-- Modale modification √©v√©nement -->
    <div id="eventModal" class="modal hidden">
        <div class="modal-content">
            <span id="closeEventModal" class="close">&times;</span>
            <h2>Modifier un √©v√©nement</h2>
            <form id="eventEditForm">
                <input type="hidden" id="eventId">
                <input type="text" id="eventEditTitle" placeholder="Nom de l‚Äô√©v√©nement" required>
                <input type="date" id="eventEditDate" required>
                <input type="time" id="eventEditTime">
                <button type="submit">üíæ Sauvegarder</button>
            </form>
        </div>
    </div>

    <!-- Modale gestion cat√©gories -->
    <div id="modalCategories" class="modal hidden">
        <div class="modal-content">
            <span class="close" id="closeCategories">&times;</span>
            <h2>Gestion des cat√©gories</h2>
            <ul id="categoriesList"></ul>
            <div class="add-category">
                <input type="text" id="newCategoryName" placeholder="Nom de la cat√©gorie">
                <input type="color" id="newCategoryColor" value="#888888">
                <button id="addCategoryBtn">Ajouter</button>
            </div>
        </div>
    </div>

</body>
</html>
